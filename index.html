<!DOCTYPE html>
<html><head><link href="css/default.css" rel="stylesheet" type="text/css"><script src="js/jquery.min.js" type="text/javascript"></script><script src="js/page_effects.js" type="text/javascript"></script><title>Cljain 0.5.0-RC2 API documentation</title></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html">Cljain 0.5.0-RC2 API documentation</a></h1></div><div class="sidebar" id="namespaces"><h3><span>Namespaces</span></h3><ul><li><a href="cljain.dum.html"><span>cljain.dum</span></a></li><li><a href="cljain.sip.address.html"><span>cljain.sip.address</span></a></li><li><a href="cljain.sip.core.html"><span>cljain.sip.core</span></a></li><li><a href="cljain.sip.dialog.html"><span>cljain.sip.dialog</span></a></li><li><a href="cljain.sip.header.html"><span>cljain.sip.header</span></a></li><li><a href="cljain.sip.message.html"><span>cljain.sip.message</span></a></li><li><a href="cljain.sip.transaction.html"><span>cljain.sip.transaction</span></a></li></ul></div><div class="namespace-index" id="content"><h2>Cljain 0.5.0-RC2 API documentation</h2><div class="doc">Enjoy JAIN-SIP in Clojure's way.</div><div class="namespace"><h3><a href="cljain.dum.html"><span>cljain.dum</span></a></h3><pre class="doc">The SIP DSL by Clojure.
Here is a simplest example show how to use it:

  (use 'cljain.dum)
  (require '[cljain.sip.core :as sip]
    '[cljain.sip.address :as addr])

  (defmethod handle-request :MESSAGE [request transaction _]
    (println &quot;Received: &quot; (.getContent request))
    (send-response! 200 :in transaction :pack &quot;I receive the message from myself.&quot;))

  (global-set-account :user &quot;bob&quot; :domain &quot;localhost&quot; :display-name &quot;Bob&quot; :password &quot;thepwd&quot;)
  (sip/global-bind-sip-provider! (sip/sip-provider! &quot;my-app&quot; &quot;localhost&quot; 5060 &quot;udp&quot;))
  (sip/set-listener! (dum-listener))
  (sip/start!)

  (send-request! :MESSAGE :to (addr/address &quot;sip:bob@localhost&quot;) :pack &quot;Hello, Bob.&quot;
    :on-success (fn [&amp; {:keys [response]}] (println &quot;Fine! response: &quot; (.getContent response)))
    :on-failure (fn [&amp; {:keys [response]}] (println &quot;Oops!&quot; (.getStatusCode response)))
    :on-timeout (fn [_] (println &quot;Timeout, try it later.&quot;)))

Remember, if you want send REGISTER to sip registry, please use the 'register-to!' function, that will
help you to deal the automatic rigister refresh:

  (register-to! (addr/address &quot;sip:the-registry&quot;) 3600
    :on-success #(prn &quot;Register success.&quot;)
    :on-failure #(prn &quot;Register failed.&quot;)
    :on-refreshed #(prn &quot;Refreshed fine.&quot;)
    :on-refresh-failed #(prn &quot;Refresh failed.&quot;))

This version cljain.dum has some limitation that if you want auto-refresh work correctly, you must use
'global-set-account' to give a root binding with *current-account* like previous.</pre><div class="index"><p>Public variables and functions:</p><ul><li><a href="cljain.dum.html#var-*current-account*"><span>*current-account*</span></a></li><li><a href="cljain.dum.html#var--%3EAccountManagerImpl"><span>-&gt;AccountManagerImpl</span></a></li><li><a href="cljain.dum.html#var-dum-listener"><span>dum-listener</span></a></li><li><a href="cljain.dum.html#var-global-set-account"><span>global-set-account</span></a></li><li><a href="cljain.dum.html#var-legal-content%3F"><span>legal-content?</span></a></li><li><a href="cljain.dum.html#var-map-%3EAccountManagerImpl"><span>map-&gt;AccountManagerImpl</span></a></li><li><a href="cljain.dum.html#var-register-to%21"><span>register-to!</span></a></li><li><a href="cljain.dum.html#var-send-request%21"><span>send-request!</span></a></li><li><a href="cljain.dum.html#var-send-response%21"><span>send-response!</span></a></li><li><a href="cljain.dum.html#var-unregister-to%21"><span>unregister-to!</span></a></li></ul></div></div><div class="namespace"><h3><a href="cljain.sip.address.html"><span>cljain.sip.address</span></a></h3><pre class="doc"></pre><div class="index"><p>Public variables and functions:</p><ul><li><a href="cljain.sip.address.html#var-address"><span>address</span></a></li><li><a href="cljain.sip.address.html#var-address%3F"><span>address?</span></a></li><li><a href="cljain.sip.address.html#var-sip-address"><span>sip-address</span></a></li><li><a href="cljain.sip.address.html#var-sip-uri"><span>sip-uri</span></a></li><li><a href="cljain.sip.address.html#var-tel-uri"><span>tel-uri</span></a></li><li><a href="cljain.sip.address.html#var-uri-from-address"><span>uri-from-address</span></a></li><li><a href="cljain.sip.address.html#var-uri%3F"><span>uri?</span></a></li></ul></div></div><div class="namespace"><h3><a href="cljain.sip.core.html"><span>cljain.sip.core</span></a></h3><pre class="doc"></pre><div class="index"><p>Public variables and functions:</p><ul><li><a href="cljain.sip.core.html#var-*sip-provider*"><span>*sip-provider*</span></a></li><li><a href="cljain.sip.core.html#var-already-bound-provider%3F"><span>already-bound-provider?</span></a></li><li><a href="cljain.sip.core.html#var-dialog%3F"><span>dialog?</span></a></li><li><a href="cljain.sip.core.html#var-gen-call-id-header"><span>gen-call-id-header</span></a></li><li><a href="cljain.sip.core.html#var-global-bind-sip-provider%21"><span>global-bind-sip-provider!</span></a></li><li><a href="cljain.sip.core.html#var-global-unbind-sip-provider%21"><span>global-unbind-sip-provider!</span></a></li><li><a href="cljain.sip.core.html#var-listening-point"><span>listening-point</span></a></li><li><a href="cljain.sip.core.html#var-new-client-transcation%21"><span>new-client-transcation!</span></a></li><li><a href="cljain.sip.core.html#var-new-dialog%21"><span>new-dialog!</span></a></li><li><a href="cljain.sip.core.html#var-new-server-transaction%21"><span>new-server-transaction!</span></a></li><li><a href="cljain.sip.core.html#var-provider-can-be-found%3F"><span>provider-can-be-found?</span></a></li><li><a href="cljain.sip.core.html#var-send-request%21"><span>send-request!</span></a></li><li><a href="cljain.sip.core.html#var-set-listener%21"><span>set-listener!</span></a></li><li><a href="cljain.sip.core.html#var-sip-factory"><span>sip-factory</span></a></li><li><a href="cljain.sip.core.html#var-sip-provider"><span>sip-provider</span></a></li><li><a href="cljain.sip.core.html#var-sip-provider%21"><span>sip-provider!</span></a></li><li><a href="cljain.sip.core.html#var-sip-stack"><span>sip-stack</span></a></li><li><a href="cljain.sip.core.html#var-stack-name"><span>stack-name</span></a></li><li><a href="cljain.sip.core.html#var-start%21"><span>start!</span></a></li><li><a href="cljain.sip.core.html#var-stop-and-release%21"><span>stop-and-release!</span></a></li><li><a href="cljain.sip.core.html#var-transaction%3F"><span>transaction?</span></a></li></ul></div></div><div class="namespace"><h3><a href="cljain.sip.dialog.html"><span>cljain.sip.dialog</span></a></h3><pre class="doc"></pre><div class="index"><p>Public variables and functions:</p><ul><li><a href="cljain.sip.dialog.html#var-ack"><span>ack</span></a></li><li><a href="cljain.sip.dialog.html#var-application-data"><span>application-data</span></a></li><li><a href="cljain.sip.dialog.html#var-create-request"><span>create-request</span></a></li><li><a href="cljain.sip.dialog.html#var-dialog%3F"><span>dialog?</span></a></li><li><a href="cljain.sip.dialog.html#var-send-ack%21"><span>send-ack!</span></a></li><li><a href="cljain.sip.dialog.html#var-send-request%21"><span>send-request!</span></a></li><li><a href="cljain.sip.dialog.html#var-set-application-data"><span>set-application-data</span></a></li></ul></div></div><div class="namespace"><h3><a href="cljain.sip.header.html"><span>cljain.sip.header</span></a></h3><pre class="doc"></pre><div class="index"><p>Public variables and functions:</p><ul><li><a href="cljain.sip.header.html#var-accept"><span>accept</span></a></li><li><a href="cljain.sip.header.html#var-accept-encoding"><span>accept-encoding</span></a></li><li><a href="cljain.sip.header.html#var-accept-language"><span>accept-language</span></a></li><li><a href="cljain.sip.header.html#var-alert-info"><span>alert-info</span></a></li><li><a href="cljain.sip.header.html#var-allow"><span>allow</span></a></li><li><a href="cljain.sip.header.html#var-allow-events"><span>allow-events</span></a></li><li><a href="cljain.sip.header.html#var-authentication-info"><span>authentication-info</span></a></li><li><a href="cljain.sip.header.html#var-authorization"><span>authorization</span></a></li><li><a href="cljain.sip.header.html#var-c-seq"><span>c-seq</span></a></li><li><a href="cljain.sip.header.html#var-call-id"><span>call-id</span></a></li><li><a href="cljain.sip.header.html#var-call-info"><span>call-info</span></a></li><li><a href="cljain.sip.header.html#var-contact"><span>contact</span></a></li><li><a href="cljain.sip.header.html#var-content-disposition"><span>content-disposition</span></a></li><li><a href="cljain.sip.header.html#var-content-encoding"><span>content-encoding</span></a></li><li><a href="cljain.sip.header.html#var-content-language"><span>content-language</span></a></li><li><a href="cljain.sip.header.html#var-content-length"><span>content-length</span></a></li><li><a href="cljain.sip.header.html#var-content-type"><span>content-type</span></a></li><li><a href="cljain.sip.header.html#var-date"><span>date</span></a></li><li><a href="cljain.sip.header.html#var-defheader"><span>defheader</span></a></li><li><a href="cljain.sip.header.html#var-error-info"><span>error-info</span></a></li><li><a href="cljain.sip.header.html#var-event"><span>event</span></a></li><li><a href="cljain.sip.header.html#var-expires"><span>expires</span></a></li><li><a href="cljain.sip.header.html#var-extension"><span>extension</span></a></li><li><a href="cljain.sip.header.html#var-from"><span>from</span></a></li><li><a href="cljain.sip.header.html#var-gen-branch"><span>gen-branch</span></a></li><li><a href="cljain.sip.header.html#var-gen-tag"><span>gen-tag</span></a></li><li><a href="cljain.sip.header.html#var-get-address"><span>get-address</span></a></li><li><a href="cljain.sip.header.html#var-header%3F"><span>header?</span></a></li><li><a href="cljain.sip.header.html#var-in-reply-to"><span>in-reply-to</span></a></li><li><a href="cljain.sip.header.html#var-max-forwards"><span>max-forwards</span></a></li><li><a href="cljain.sip.header.html#var-mime-version"><span>mime-version</span></a></li><li><a href="cljain.sip.header.html#var-min-expires"><span>min-expires</span></a></li><li><a href="cljain.sip.header.html#var-organization"><span>organization</span></a></li><li><a href="cljain.sip.header.html#var-priority"><span>priority</span></a></li><li><a href="cljain.sip.header.html#var-proxy-authenticate"><span>proxy-authenticate</span></a></li><li><a href="cljain.sip.header.html#var-proxy-authorization"><span>proxy-authorization</span></a></li><li><a href="cljain.sip.header.html#var-proxy-require"><span>proxy-require</span></a></li><li><a href="cljain.sip.header.html#var-r-ack"><span>r-ack</span></a></li><li><a href="cljain.sip.header.html#var-r-seq"><span>r-seq</span></a></li><li><a href="cljain.sip.header.html#var-reason"><span>reason</span></a></li><li><a href="cljain.sip.header.html#var-record-route"><span>record-route</span></a></li><li><a href="cljain.sip.header.html#var-refer-to"><span>refer-to</span></a></li><li><a href="cljain.sip.header.html#var-reply-to"><span>reply-to</span></a></li><li><a href="cljain.sip.header.html#var-require"><span>require</span></a></li><li><a href="cljain.sip.header.html#var-retry-after"><span>retry-after</span></a></li><li><a href="cljain.sip.header.html#var-route"><span>route</span></a></li><li><a href="cljain.sip.header.html#var-sequence-number"><span>sequence-number</span></a></li><li><a href="cljain.sip.header.html#var-server"><span>server</span></a></li><li><a href="cljain.sip.header.html#var-sip-etag"><span>sip-etag</span></a></li><li><a href="cljain.sip.header.html#var-sip-if-match"><span>sip-if-match</span></a></li><li><a href="cljain.sip.header.html#var-subject"><span>subject</span></a></li><li><a href="cljain.sip.header.html#var-subscription-state"><span>subscription-state</span></a></li><li><a href="cljain.sip.header.html#var-supported"><span>supported</span></a></li><li><a href="cljain.sip.header.html#var-time-stamp"><span>time-stamp</span></a></li><li><a href="cljain.sip.header.html#var-to"><span>to</span></a></li><li><a href="cljain.sip.header.html#var-unsupported"><span>unsupported</span></a></li><li><a href="cljain.sip.header.html#var-user-agent"><span>user-agent</span></a></li><li><a href="cljain.sip.header.html#var-via"><span>via</span></a></li><li><a href="cljain.sip.header.html#var-warning"><span>warning</span></a></li><li><a href="cljain.sip.header.html#var-wildcard-contact"><span>wildcard-contact</span></a></li><li><a href="cljain.sip.header.html#var-www-authenticate"><span>www-authenticate</span></a></li></ul></div></div><div class="namespace"><h3><a href="cljain.sip.message.html"><span>cljain.sip.message</span></a></h3><pre class="doc"></pre><div class="index"><p>Public variables and functions:</p><ul><li><a href="cljain.sip.message.html#var-add-header%21"><span>add-header!</span></a></li><li><a href="cljain.sip.message.html#var-content"><span>content</span></a></li><li><a href="cljain.sip.message.html#var-header"><span>header</span></a></li><li><a href="cljain.sip.message.html#var-inc-sequence-number%21"><span>inc-sequence-number!</span></a></li><li><a href="cljain.sip.message.html#var-method"><span>method</span></a></li><li><a href="cljain.sip.message.html#var-raw-content"><span>raw-content</span></a></li><li><a href="cljain.sip.message.html#var-reason"><span>reason</span></a></li><li><a href="cljain.sip.message.html#var-remove-content%21"><span>remove-content!</span></a></li><li><a href="cljain.sip.message.html#var-remove-header%21"><span>remove-header!</span></a></li><li><a href="cljain.sip.message.html#var-request"><span>request</span></a></li><li><a href="cljain.sip.message.html#var-response"><span>response</span></a></li><li><a href="cljain.sip.message.html#var-set-content%21"><span>set-content!</span></a></li><li><a href="cljain.sip.message.html#var-set-header%21"><span>set-header!</span></a></li><li><a href="cljain.sip.message.html#var-status-code"><span>status-code</span></a></li></ul></div></div><div class="namespace"><h3><a href="cljain.sip.transaction.html"><span>cljain.sip.transaction</span></a></h3><pre class="doc"></pre><div class="index"><p>Public variables and functions:</p><ul><li><a href="cljain.sip.transaction.html#var-application-data"><span>application-data</span></a></li><li><a href="cljain.sip.transaction.html#var-branch-id"><span>branch-id</span></a></li><li><a href="cljain.sip.transaction.html#var-request"><span>request</span></a></li><li><a href="cljain.sip.transaction.html#var-send-request%21"><span>send-request!</span></a></li><li><a href="cljain.sip.transaction.html#var-send-response%21"><span>send-response!</span></a></li><li><a href="cljain.sip.transaction.html#var-set-application-data%21"><span>set-application-data!</span></a></li><li><a href="cljain.sip.transaction.html#var-transaction%3F"><span>transaction?</span></a></li></ul></div></div></div></body></html>